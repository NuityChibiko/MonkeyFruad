import React, {  useState } from "react";
import { useHistory } from "react-router-dom";
import Navbar from "../components/navbar";
import "./signup.css";
import 'bootstrap/dist/css/bootstrap.min.css'
import { MDBInput } from 'mdbreact';
import { Form } from "react-bootstrap";
import '@fortawesome/fontawesome-free/css/all.min.css'; 
import 'bootstrap-css-only/css/bootstrap.min.css'; 
import 'mdbreact/dist/css/mdb.css';
import {
  auth,
  googleProvider,
  facebookProvider,
} from "../Frontfirebase";
import axios from "axios";

const Signup = () => {
  let history = useHistory();
const [firstname,setFirstname] = useState("")
const [surname,setSurname] = useState("")
const [sex,setSex] = useState("")
const [date,setDate] = useState()
const [phone,setPhone] = useState("")
const [province,setProvince] = useState("")
const [country,setCountry] = useState("")
const [email,setEmail] = useState("")
const [password,setPassword] = useState("")
const [repass,setRepass] = useState("")
const [checkpass , setCheckpass] = useState(false)

  const SignupSubmit = (e) =>{
    e.preventDefault();
    console.log("submit")
   axios.post("http://localhost:7000/user/signup", { firstname: firstname, surname: surname, sex: sex,date:date,phone:phone,
    province:province,country:country,email:email,password:password,repass:repass
  }).then((result)=>{
    console.log(result.data)
    if(result.data.msg == "password and repass not match"){
    setCheckpass(true)
    }
  }).catch((err)=>{
    console.log(err)
  })
  }

  const selectSex = (e) =>{
    if(e.target.value === "male")
    {
      setSex(e.target.value)
    }
    else
    setSex(e.target.value)
  }
  return (
    <div>
      <Navbar />
      <div className="container-login">
        <form  className='LoginForm'>
        
          <img src="/img/logoLogin.png" className="LogoLogin" />

          <p className="h2 text-center mb-4 font-weight-bold">สมัครสมาชิก</p>

          {checkpass ? (<h1>password and repass not matchw</h1>) : false}
          
          <div className="Email">
              <MDBInput onChange={(e)=>{
                 setEmail(e.target.value)
              }}  className="" label="Email" group type="email" validate />
            </div>
            
            <div className="Email">
              <MDBInput onChange={(e)=>{
                 setPassword(e.target.value)
              }} className="" label="Password" group type="password" validate />
            </div>

            <div className="Email">
              <MDBInput onChange={(e)=>{
                setRepass(e.target.value)
              }} className="" label="Confirm Password" group type="password" validate />
            </div>

          <div className="LoginInputForm">
            <MDBInput onChange={(e=>{
                setFirstname(e.target.value)
            })} className="mb-1" label="ชื่อจริง" group type="text" validate />
            <MDBInput onChange={(e=>{
                setSurname(e.target.value)
            })}  className="mb-1" label="นามสกุล" group type="text" validate />

            <div className="my-2 Gender">
              <label className="label-form-title">เพศ</label>
              <div className="form-inside">
                <div className="profile-data d-inline mr-2">
                  <input onChange={selectSex} name="gender" type="radio" id="male" value="male" className="mr-1" />
                  <label htmlFor="male">
                    ชาย
                  </label>
                </div>
                <div className="profile-data d-inline">
                  <input onChange={selectSex} name="gender" type="radio" id="female" value="female" classNa-กรุณาเลือกจังหวัดdi6-me="m-1" />
                  <label htmlFor="female">
                    หญิง
                  </label>
                </div>
              </div>
            </div>

            <div className="BirthDate">
              <label for="gender" className="label-form-title">วันเกิด</label>
              <div className="form-inside">
                  <input onChange={(e)=>{
                    setDate(e.target.value)
                  }} className="Date" type="date" id="party-time" name="birth_day" required />                  
              </div>
            </div>

            <div className="Phone">
              <MDBInput onChange={(e)=>{
                    setPhone(e.target.value)
                  }}  label="เบอร์โทรศัพท์" group type="text" validate />                  
            </div>

            <div className="Province">
              <label for="province" className="label-form-title">จังหวัด</label>
              <div className="form-inside ">
                <Form.Group controlId="exampleForm.ControlSelect1">
                  <Form.Control  as="select" onChange={(e)=>{
                    setProvince(e.target.value)
                  }}>
                  <option value="" selected>กรุณาเลือกจังหวัด</option>
                  <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                  <option value="กระบี่">กระบี่ </option>
                  <option value="กาญจนบุรี">กาญจนบุรี </option>
                  <option value="กาฬสินธุ์">กาฬสินธุ์ </option>
                  <option value="กำแพงเพชร">กำแพงเพชร </option>
                  <option value="ขอนแก่น">ขอนแก่น</option>
                  <option value="จันทบุรี">จันทบุรี</option>
                  <option value="ฉะเชิงเทรา">ฉะเชิงเทรา </option>
                  <option value="ชัยนาท">ชัยนาท </option>
                  <option value="ชัยภูมิ">ชัยภูมิ </option>
                  <option value="ชุมพร">ชุมพร </option>
                  <option value="ชลบุรี">ชลบุรี </option>
                  <option value="เชียงใหม่">เชียงใหม่ </option>
                  <option value="เชียงราย">เชียงราย </option>
                  <option value="ตรัง">ตรัง </option>
                  <option value="ตราด">ตราด </option>
                  <option value="ตาก">ตาก </option>
                  <option value="นครนายก">นครนายก </option>
                  <option value="นครปฐม">นครปฐม </option>
                  <option value="นครพนม">นครพนม </option>
                  <option value="นครราชสีมา">นครราชสีมา </option>
                  <option value="นครศรีธรรมราช">นครศรีธรรมราช </option>
                  <option value="นครสวรรค์">นครสวรรค์ </option>
                  <option value="นราธิวาส">นราธิวาส </option>
                  <option value="น่าน">น่าน </option>
                  <option value="นนทบุรี">นนทบุรี </option>
                  <option value="บึงกาฬ">บึงกาฬ</option>
                  <option value="บุรีรัมย์">บุรีรัมย์</option>
                  <option value="ประจวบคีรีขันธ์">ประจวบคีรีขันธ์ </option>
                  <option value="ปทุมธานี">ปทุมธานี </option>
                  <option value="ปราจีนบุรี">ปราจีนบุรี </option>
                  <option value="ปัตตานี">ปัตตานี </option>
                  <option value="พะเยา">พะเยา </option>
                  <option value="พระนครศรีอยุธยา">พระนครศรีอยุธยา </option>
                  <option value="พังงา">พังงา </option>
                  <option value="พิจิตร">พิจิตร </option>
                  <option value="พิษณุโลก">พิษณุโลก </option>
                  <option value="เพชรบุรี">เพชรบุรี </option>
                  <option value="เพชรบูรณ์">เพชรบูรณ์ </option>
                  <option value="แพร่">แพร่ </option>
                  <option value="พัทลุง">พัทลุง </option>
                  <option value="ภูเก็ต">ภูเก็ต </option>
                  <option value="มหาสารคาม">มหาสารคาม </option>
                  <option value="มุกดาหาร">มุกดาหาร </option>
                  <option value="แม่ฮ่องสอน">แม่ฮ่องสอน </option>
                  <option value="ยโสธร">ยโสธร </option>
                  <option value="ยะลา">ยะลา </option>
                  <option value="ร้อยเอ็ด">ร้อยเอ็ด </option>
                  <option value="ระนอง">ระนอง </option>
                  <option value="ระยอง">ระยอง </option>
                  <option value="ราชบุรี">ราชบุรี</option>
                  <option value="ลพบุรี">ลพบุรี </option>
                  <option value="ลำปาง">ลำปาง </option>
                  <option value="ลำพูน">ลำพูน </option>
                  <option value="เลย">เลย </option>
                  <option value="ศรีสะเกษ">ศรีสะเกษ</option>
                  <option value="สกลนคร">สกลนคร</option>
                  <option value="สงขลา">สงขลา </option>
                  <option value="สมุทรสาคร">สมุทรสาคร </option>
                  <option value="สมุทรปราการ">สมุทรปราการ </option>
                  <option value="สมุทรสงคราม">สมุทรสงคราม </option>
                  <option value="สระแก้ว">สระแก้ว </option>
                  <option value="สระบุรี">สระบุรี </option>
                  <option value="สิงห์บุรี">สิงห์บุรี </option>
                  <option value="สุโขทัย">สุโขทัย </option>
                  <option value="สุพรรณบุรี">สุพรรณบุรี </option>
                  <option value="สุราษฎร์ธานี">สุราษฎร์ธานี </option>
                  <option value="สุรินทร์">สุรินทร์ </option>
                  <option value="สตูล">สตูล </option>
                  <option value="หนองคาย">หนองคาย </option>
                  <option value="หนองบัวลำภู">หนองบัวลำภู </option>
                  <option value="อำนาจเจริญ">อำนาจเจริญ </option>
                  <option value="อุดรธานี">อุดรธานี </option>
                  <option value="อุตรดิตถ์">อุตรดิตถ์ </option>
                  <option value="อุทัยธานี">อุทัยธานี </option>
                  <option value="อุบลราชธานี">อุบลราชธานี</option>
                  <option value="อ่างทอง">อ่างทอง </option>
                  </Form.Control>
                </Form.Group>
              </div>
            </div>

            <div className="Province">
              <label for="province" className="label-form-title">เขต</label>
              <div className="form-inside ">
                <Form.Group controlId="exampleForm.ControlSelect1">
                  <Form.Control as="select" onChange={(e)=>{
                    setCountry(e.target.value)
                  }}>
                  <option value="" selected>กรุณาเลือกเขต</option>
                  <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                  <option value="กระบี่">กระบี่ </option>
                  <option value="กาญจนบุรี">กาญจนบุรี </option>
                  <option value="กาฬสินธุ์">กาฬสินธุ์ </option>
                  <option value="กำแพงเพชร">กำแพงเพชร </option>
                  <option value="ขอนแก่น">ขอนแก่น</option>
                  <option value="จันทบุรี">จันทบุรี</option>
                  <option value="ฉะเชิงเทรา">ฉะเชิงเทรา </option>
                  <option value="ชัยนาท">ชัยนาท </option>
                  <option value="ชัยภูมิ">ชัยภูมิ </option>
                  <option value="ชุมพร">ชุมพร </option>
                  <option value="ชลบุรี">ชลบุรี </option>
                  <option value="เชียงใหม่">เชียงใหม่ </option>
                  <option value="เชียงราย">เชียงราย </option>
                  <option value="ตรัง">ตรัง </option>
                  <option value="ตราด">ตราด </option>
                  <option value="ตาก">ตาก </option>
                  <option value="นครนายก">นครนายก </option>
                  <option value="นครปฐม">นครปฐม </option>
                  <option value="นครพนม">นครพนม </option>
                  <option value="นครราชสีมา">นครราชสีมา </option>
                  <option value="นครศรีธรรมราช">นครศรีธรรมราช </option>
                  <option value="นครสวรรค์">นครสวรรค์ </option>
                  <option value="นราธิวาส">นราธิวาส </option>
                  <option value="น่าน">น่าน </option>
                  <option value="นนทบุรี">นนทบุรี </option>
                  <option value="บึงกาฬ">บึงกาฬ</option>
                  <option value="บุรีรัมย์">บุรีรัมย์</option>
                  <option value="ประจวบคีรีขันธ์">ประจวบคีรีขันธ์ </option>
                  <option value="ปทุมธานี">ปทุมธานี </option>
                  <option value="ปราจีนบุรี">ปราจีนบุรี </option>
                  <option value="ปัตตานี">ปัตตานี </option>
                  <option value="พะเยา">พะเยา </option>
                  <option value="พระนครศรีอยุธยา">พระนครศรีอยุธยา </option>
                  <option value="พังงา">พังงา </option>
                  <option value="พิจิตร">พิจิตร </option>
                  <option value="พิษณุโลก">พิษณุโลก </option>
                  <option value="เพชรบุรี">เพชรบุรี </option>
                  <option value="เพชรบูรณ์">เพชรบูรณ์ </option>
                  <option value="แพร่">แพร่ </option>
                  <option value="พัทลุง">พัทลุง </option>
                  <option value="ภูเก็ต">ภูเก็ต </option>
                  <option value="มหาสารคาม">มหาสารคาม </option>
                  <option value="มุกดาหาร">มุกดาหาร </option>
                  <option value="แม่ฮ่องสอน">แม่ฮ่องสอน </option>
                  <option value="ยโสธร">ยโสธร </option>
                  <option value="ยะลา">ยะลา </option>
                  <option value="ร้อยเอ็ด">ร้อยเอ็ด </option>
                  <option value="ระนอง">ระนอง </option>
                  <option value="ระยอง">ระยอง </option>
                  <option value="ราชบุรี">ราชบุรี</option>
                  <option value="ลพบุรี">ลพบุรี </option>
                  <option value="ลำปาง">ลำปาง </option>
                  <option value="ลำพูน">ลำพูน </option>
                  <option value="เลย">เลย </option>
                  <option value="ศรีสะเกษ">ศรีสะเกษ</option>
                  <option value="สกลนคร">สกลนคร</option>
                  <option value="สงขลา">สงขลา </option>
                  <option value="สมุทรสาคร">สมุทรสาคร </option>
                  <option value="สมุทรปราการ">สมุทรปราการ </option>
                  <option value="สมุทรสงคราม">สมุทรสงคราม </option>
                  <option value="สระแก้ว">สระแก้ว </option>
                  <option value="สระบุรี">สระบุรี </option>
                  <option value="สิงห์บุรี">สิงห์บุรี </option>
                  <option value="สุโขทัย">สุโขทัย </option>
                  <option value="สุพรรณบุรี">สุพรรณบุรี </option>
                  <option value="สุราษฎร์ธานี">สุราษฎร์ธานี </option>
                  <option value="สุรินทร์">สุรินทร์ </option>
                  <option value="สตูล">สตูล </option>
                  <option value="หนองคาย">หนองคาย </option>
                  <option value="หนองบัวลำภู">หนองบัวลำภู </option>
                  <option value="อำนาจเจริญ">อำนาจเจริญ </option>
                  <option value="อุดรธานี">อุดรธานี </option>
                   <option value="อุตรดิตถ์">อุตรดิตถ์ </option>
                  <option value="อุทัยธานี">อุทัยธานี </option>
                  <option value="อุบลราชธานี">อุบลราชธานี</option>
                  <option value="อ่างทอง">อ่างทอง </option>
                  </Form.Control>
                </Form.Group>
              </div>
            </div>
            
            <button onClick={SignupSubmit} className="btn-block LoginButton">
            <p className="mx-auto my-1">สมัครสมาชิก</p>
          </button>

          <div className="Signup text-center pt-3" >
            <span></span><a href="/login">เข้าสู่ระบบ</a>
            <hr></hr>
          </div>
          </div>
        </form>
      </div>
    </div>
  );
};

export default Signup;