{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\MonkeyFruad\\\\frontend\\\\src\\\\user\\\\components\\\\navnew.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useRef, useState, useMemo } from \"react\";\nimport { MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBDropdown, MDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem, MDBIcon } from \"mdbreact\";\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport \"./navnew.css\";\nimport { firestore, auth } from \"../Frontfirebase\";\nimport usercontext from \"../context/usercontext\";\nimport axios from \"axios\";\n\nconst NavbarPage = () => {\n  _s();\n\n  state = {\n    isOpen: false\n  };\n  var {\n    user,\n    setUser\n  } = useContext(usercontext);\n  const [displayname, setDisplayname] = useState();\n  const [role, setRole] = useState();\n  const [admin, setAdmin] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [isOpen, setIsopen] = useState(true);\n\n  const logout = () => {\n    auth.signOut().then(() => {\n      console.log(\"Signout\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useMemo(() => {\n    if (user) {\n      if (user.displayName === null) {\n        axios.post(\"http://localhost:7000/user/session\", {\n          user: user\n        }).then(result => {\n          if (result.data.data.role === \"admin\") {\n            setAdmin(true);\n          }\n\n          setDisplayname(result.data.data.username);\n          setLoading(false);\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        setDisplayname(user.displayName);\n        setRole(\"user\");\n      }\n    }\n\n    setLoading(false);\n  }, [user]);\n\n  const toggleCollapse = () => {\n    setIsopen(false);\n  };\n\n  return loading ? \"\" : admin ? {\n    /* <Router>\r\n           <MDBNavbar light expand=\"md\" className=\"navbarnew\">\r\n             <MDBNavbarBrand href=\"/\">\r\n                 <img src=\"/img/logo-mf.png\" className=\"logo-nav\" />\r\n             </MDBNavbarBrand>\r\n             <MDBNavbarToggler onClick={this.toggleCollapse} />\r\n             <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\r\n               <MDBNavbarNav left className=\"center-nav\">\r\n               <MDBNavItem>\r\n                   <MDBDropdown>\r\n                     <MDBDropdownToggle nav caret>\r\n                       <div className=\"d-none d-md-inline\">โพสต์</div>\r\n                     </MDBDropdownToggle>\r\n                     <MDBDropdownMenu className=\"dropdown-default\">\r\n                       <MDBDropdownItem href=\"/post\">โพสทั้งหมด</MDBDropdownItem>\r\n                       <MDBDropdownItem href=\"/createpost\">สร้างโพส</MDBDropdownItem>\r\n                     </MDBDropdownMenu>\r\n                   </MDBDropdown>\r\n                 </MDBNavItem>\r\n                 <MDBNavItem>\r\n                   <MDBNavLink to=\"/rank\">จัดอันดับคนโกง</MDBNavLink>\r\n                 </MDBNavItem>\r\n                 <MDBNavItem>\r\n                   <MDBDropdown>\r\n                     <MDBDropdownToggle nav caret>\r\n                       <div className=\"d-none d-md-inline\">ช่วยเหลือ</div>\r\n                     </MDBDropdownToggle>\r\n                     <MDBDropdownMenu className=\"dropdown-default\">\r\n                       <MDBDropdownItem href=\"/prevent\">รู้ไว้ไม่โดนโกง</MDBDropdownItem>\r\n                       <MDBDropdownItem href=\"/help\">หน่วยงานที่ให้ความช่วยเหลือ</MDBDropdownItem>\r\n                     </MDBDropdownMenu>\r\n                   </MDBDropdown>\r\n                 </MDBNavItem>\r\n                 <MDBNavItem>\r\n                   <MDBNavLink to=\"/contractus\">ติดต่อ</MDBNavLink>\r\n                 </MDBNavItem>\r\n               </MDBNavbarNav>\r\n               <MDBNavbarNav right>\r\n               <MDBNavItem>\r\n                     <div className=\"md-form my-0\">\r\n                       <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                     </div>\r\n                 </MDBNavItem>\r\n                 <MDBNavItem>\r\n                   <MDBDropdown>\r\n                     <MDBDropdownToggle nav caret>\r\n                       <MDBIcon icon=\"user\" />\r\n                     </MDBDropdownToggle>\r\n                     <MDBDropdownMenu className=\"dropdown-default\">\r\n                       <MDBDropdownItem href=\"#!\">Action</MDBDropdownItem>\r\n                       <MDBDropdownItem href=\"#!\">Another Action</MDBDropdownItem>\r\n                       <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                       <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                     </MDBDropdownMenu>\r\n                   </MDBDropdown>\r\n                 </MDBNavItem>\r\n               </MDBNavbarNav>\r\n             </MDBCollapse>\r\n           </MDBNavbar>\r\n         </Router>  */\n  } : /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(MDBNavbar, {\n      light: true,\n      expand: \"md\",\n      className: \"navbarnew\",\n      children: [/*#__PURE__*/_jsxDEV(MDBNavbarBrand, {\n        href: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/logo-mf.png\",\n          className: \"logo-nav\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MDBNavbarToggler, {\n        onClick: toggleCollapse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MDBCollapse, {\n        id: \"navbarCollapse3\",\n        navbar: true,\n        children: [/*#__PURE__*/_jsxDEV(MDBNavbarNav, {\n          left: true,\n          className: \"center-nav\",\n          children: [/*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(MDBDropdown, {\n              children: [/*#__PURE__*/_jsxDEV(MDBDropdownToggle, {\n                nav: true,\n                caret: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-none d-md-inline\",\n                  children: \"\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MDBDropdownMenu, {\n                className: \"dropdown-default\",\n                children: [/*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"/post\",\n                  children: \"\\u0E42\\u0E1E\\u0E2A\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"/createpost\",\n                  children: \"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E42\\u0E1E\\u0E2A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(MDBNavLink, {\n              to: \"/rank\",\n              children: \"\\u0E08\\u0E31\\u0E14\\u0E2D\\u0E31\\u0E19\\u0E14\\u0E31\\u0E1A\\u0E04\\u0E19\\u0E42\\u0E01\\u0E07\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(MDBDropdown, {\n              children: [/*#__PURE__*/_jsxDEV(MDBDropdownToggle, {\n                nav: true,\n                caret: true,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-none d-md-inline\",\n                  children: \"\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MDBDropdownMenu, {\n                className: \"dropdown-default\",\n                children: [/*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"/prevent\",\n                  children: \"\\u0E23\\u0E39\\u0E49\\u0E44\\u0E27\\u0E49\\u0E44\\u0E21\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"/help\",\n                  children: \"\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\\u0E17\\u0E35\\u0E48\\u0E43\\u0E2B\\u0E49\\u0E04\\u0E27\\u0E32\\u0E21\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(MDBNavLink, {\n              to: \"/contractus\",\n              children: \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MDBNavbarNav, {\n          right: true,\n          children: [/*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md-form my-0\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control mr-sm-2\",\n                type: \"text\",\n                placeholder: \"Search\",\n                \"aria-label\": \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MDBNavItem, {\n            children: /*#__PURE__*/_jsxDEV(MDBDropdown, {\n              children: [/*#__PURE__*/_jsxDEV(MDBDropdownToggle, {\n                nav: true,\n                caret: true,\n                children: /*#__PURE__*/_jsxDEV(MDBIcon, {\n                  icon: \"user\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MDBDropdownMenu, {\n                className: \"dropdown-default\",\n                children: [/*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"#!\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"#!\",\n                  children: \"Another Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"#!\",\n                  children: \"Something else here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MDBDropdownItem, {\n                  href: \"#!\",\n                  children: \"Something else here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 7\n  }, this);\n};\n\n_s(NavbarPage, \"/8WNiGaYavVlN5x0/uRTzVsWbhI=\");\n\n_c = NavbarPage;\nexport default NavbarPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavbarPage\");","map":{"version":3,"sources":["D:/MonkeyFruad/frontend/src/user/components/navnew.js"],"names":["React","useContext","useEffect","useRef","useState","useMemo","MDBNavbar","MDBNavbarBrand","MDBNavbarNav","MDBNavItem","MDBNavLink","MDBNavbarToggler","MDBCollapse","MDBDropdown","MDBDropdownToggle","MDBDropdownMenu","MDBDropdownItem","MDBIcon","BrowserRouter","Router","firestore","auth","usercontext","axios","NavbarPage","state","isOpen","user","setUser","displayname","setDisplayname","role","setRole","admin","setAdmin","loading","setLoading","setIsopen","logout","signOut","then","console","log","catch","err","displayName","post","result","data","username","toggleCollapse"],"mappings":"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","sourcesContent":["import React, { useContext,useEffect,useRef,useState,useMemo} from \"react\";\r\nimport { MDBNavbar, MDBNavbarBrand, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBDropdown,\r\nMDBDropdownToggle, MDBDropdownMenu, MDBDropdownItem, MDBIcon } from \"mdbreact\";\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport \"./navnew.css\";\r\nimport { firestore, auth} from \"../Frontfirebase\";\r\nimport usercontext from \"../context/usercontext\"\r\nimport axios from \"axios\";\r\nconst NavbarPage = () => {\r\nstate = {\r\n  isOpen: false\r\n};\r\n\r\nvar { user , setUser} = useContext(usercontext)\r\n  const [displayname , setDisplayname] = useState()\r\n  const [role,setRole] = useState()\r\n  const [admin ,setAdmin] = useState(false)\r\n  const [loading, setLoading] = useState(true);\r\n  const [isOpen , setIsopen] = useState(true);\r\n  const logout = () =>{\r\n    auth.signOut().then(()=>{\r\n      console.log(\"Signout\")\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\nuseMemo(()=>{\r\n    if(user){\r\n    if(user.displayName === null){\r\n        axios.post(\"http://localhost:7000/user/session\", { user : user })\r\n        .then((result) => {\r\n           if(result.data.data.role === \"admin\")\r\n           {\r\n             setAdmin(true)\r\n           }\r\n           setDisplayname(result.data.data.username)\r\n           setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n    else{\r\n      setDisplayname(user.displayName)\r\n      setRole(\"user\")\r\n    }\r\n  }  \r\n  setLoading(false)\r\n},[user]);\r\n\r\nconst toggleCollapse = () => {\r\n  setIsopen(false)\r\n}\r\nreturn  loading ? \"\" : ((admin ? \r\n    (\r\n{/* <Router>\r\n        <MDBNavbar light expand=\"md\" className=\"navbarnew\">\r\n          <MDBNavbarBrand href=\"/\">\r\n              <img src=\"/img/logo-mf.png\" className=\"logo-nav\" />\r\n          </MDBNavbarBrand>\r\n          <MDBNavbarToggler onClick={this.toggleCollapse} />\r\n          <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar>\r\n            <MDBNavbarNav left className=\"center-nav\">\r\n            <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <div className=\"d-none d-md-inline\">โพสต์</div>\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"/post\">โพสทั้งหมด</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"/createpost\">สร้างโพส</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBNavLink to=\"/rank\">จัดอันดับคนโกง</MDBNavLink>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <div className=\"d-none d-md-inline\">ช่วยเหลือ</div>\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"/prevent\">รู้ไว้ไม่โดนโกง</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"/help\">หน่วยงานที่ให้ความช่วยเหลือ</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBNavLink to=\"/contractus\">ติดต่อ</MDBNavLink>\r\n              </MDBNavItem>\r\n            </MDBNavbarNav>\r\n            <MDBNavbarNav right>\r\n            <MDBNavItem>\r\n                  <div className=\"md-form my-0\">\r\n                    <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                  </div>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <MDBIcon icon=\"user\" />\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"#!\">Action</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Another Action</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n            </MDBNavbarNav>\r\n          </MDBCollapse>\r\n        </MDBNavbar>\r\n      </Router>  */}\r\n    )\r\n    : \r\n    (\r\n      <Router>\r\n        <MDBNavbar light expand=\"md\" className=\"navbarnew\">\r\n          <MDBNavbarBrand href=\"/\">\r\n              <img src=\"/img/logo-mf.png\" className=\"logo-nav\" />\r\n          </MDBNavbarBrand>\r\n          <MDBNavbarToggler onClick={toggleCollapse} />\r\n          <MDBCollapse id=\"navbarCollapse3\"  navbar>\r\n            <MDBNavbarNav left className=\"center-nav\">\r\n            <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <div className=\"d-none d-md-inline\">โพสต์</div>\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"/post\">โพสทั้งหมด</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"/createpost\">สร้างโพส</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBNavLink to=\"/rank\">จัดอันดับคนโกง</MDBNavLink>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <div className=\"d-none d-md-inline\">ช่วยเหลือ</div>\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"/prevent\">รู้ไว้ไม่โดนโกง</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"/help\">หน่วยงานที่ให้ความช่วยเหลือ</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBNavLink to=\"/contractus\">ติดต่อ</MDBNavLink>\r\n              </MDBNavItem>\r\n            </MDBNavbarNav>\r\n            <MDBNavbarNav right>\r\n            <MDBNavItem>\r\n                  <div className=\"md-form my-0\">\r\n                    <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                  </div>\r\n              </MDBNavItem>\r\n              <MDBNavItem>\r\n                <MDBDropdown>\r\n                  <MDBDropdownToggle nav caret>\r\n                    <MDBIcon icon=\"user\" />\r\n                  </MDBDropdownToggle>\r\n                  <MDBDropdownMenu className=\"dropdown-default\">\r\n                    <MDBDropdownItem href=\"#!\">Action</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Another Action</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                    <MDBDropdownItem href=\"#!\">Something else here</MDBDropdownItem>\r\n                  </MDBDropdownMenu>\r\n                </MDBDropdown>\r\n              </MDBNavItem>\r\n            </MDBNavbarNav>\r\n          </MDBCollapse>\r\n        </MDBNavbar>\r\n      </Router> \r\n      )\r\n))\r\n}\r\n\r\nexport default NavbarPage;"]},"metadata":{},"sourceType":"module"}