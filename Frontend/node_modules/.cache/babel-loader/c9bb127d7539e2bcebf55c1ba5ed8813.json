{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/Users/Pupun/Desktop/project/MonkeyFruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Pupun/Desktop/project/MonkeyFruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Pupun/Desktop/project/MonkeyFruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{Form,Col,FormControl,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import Navbar from\"../components/navbar\";import\"./history.css\";import usercontext from\"../context/usercontext\";import Axios from\"axios\";var History=function History(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1];var onClick=function onClick(){return setIsActive(!isActive);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),mypost=_useState4[0],Setmypost=_useState4[1];var _useContext=useContext(usercontext),user=_useContext.user,setUser=_useContext.setUser;var deleted=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(uid){var postdelete,ok;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.post(\"http://localhost:7000/post/delete/\".concat(uid));case 2:postdelete=_context.sent;console.log(postdelete.data);_context.next=6;return Axios.post(\"http://localhost:7000/user/session\",{result:user});case 6:ok=_context.sent;console.log(ok.data.item);Setmypost(ok.data.item);case 9:case\"end\":return _context.stop();}}},_callee);}));return function deleted(_x){return _ref.apply(this,arguments);};}();var ok=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _ok;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.post(\"http://localhost:7000/user/session\",{result:user});case 3:_ok=_context2.sent;console.log(_ok.data.item);Setmypost(_ok.data.item);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"error\");case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function ok(){return _ref2.apply(this,arguments);};}();useEffect(function(){ok();},[user]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"h1-history\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),mypost?/*#__PURE__*/_jsxs(\"h2\",{className:\"h2-history2\",children:[\"\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \",mypost.length,\" \\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"]}):null,mypost?mypost.map(function(ok){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-history1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-history2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-historysetiing\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"menu-containerhistorysetting\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:onClick,className:\"historybuttonsetting\",children:/*#__PURE__*/_jsx(\"img\",{className:\"historyimg-setting\",src:\"/img/setting.png\",alt:\"avatar\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"historymenusetting \".concat(isActive?\"active\":\"inactive\"),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"ul-historymenusetting\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"li-historymenusetting\",children:/*#__PURE__*/_jsx(\"a\",{className:\"a-mypostmenusetting\",children:/*#__PURE__*/_jsx(Link,{to:\"/post/edit/\".concat(ok.uid),children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"li-historymenusetting\",children:/*#__PURE__*/_jsx(\"a\",{className:\"a-mypostmenusetting\",onClick:function onClick(){return deleted(ok.uid);},children:\" \\u0E25\\u0E1A\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C \"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-history\",children:[/*#__PURE__*/_jsxs(Form,{className:\"formsize-history\",children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"\\u0E49history-left col-lg-6 col-12\",controlId:\"formGridName\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.name,\" \"]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridId\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 (\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E01\\u0E07)\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(\"span\",{className:\"spanhistory\",children:ok.accountnumber})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridNameproduct\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.nameproduct,\" \"]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridPrice\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E07\\u0E34\\u0E19 (\\u0E1A\\u0E32\\u0E17)\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.money,\" \"]})})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsx(Form.Group,{as:Col,className:\"history-left col-lg-6 col-12\",controlId:\"formGridDate\",children:/*#__PURE__*/_jsx(Form.Label,{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(\"span\",{className:\"spanhistory\",children:[ok.date,\" \"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"historyother\",children:/*#__PURE__*/_jsx(Link,{className:\"historyother1\",to:\"/mypost/\".concat(ok.uid),children:\"\\u0E14\\u0E39\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\"})})]})]})})});}):null]});};export default History;","map":{"version":3,"sources":["C:/Users/Pupun/Desktop/project/MonkeyFruad/frontend/src/user/pages/history.js"],"names":["React","useEffect","useState","useContext","Form","Col","FormControl","Button","Link","Navbar","usercontext","Axios","History","isActive","setIsActive","onClick","mypost","Setmypost","user","setUser","deleted","uid","post","postdelete","console","log","data","result","ok","item","length","map","name","accountnumber","nameproduct","money","date"],"mappings":"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","sourcesContent":["import React, { useEffect, useState ,useContext} from \"react\";\r\nimport { Form, Col, FormControl, Button } from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\"\r\nimport Navbar from \"../components/navbar\";\r\nimport \"./history.css\";\r\nimport usercontext from \"../context/usercontext\"\r\nimport Axios from \"axios\"\r\nconst History = () => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const onClick = () => setIsActive(!isActive);\r\n  const [mypost,   Setmypost] = useState();\r\n  let { user , setUser} = useContext(usercontext)\r\n\r\n\r\n  const deleted = async(uid) =>{\r\n    const postdelete = await Axios.post(`http://localhost:7000/post/delete/${uid}`)\r\n    console.log(postdelete.data)\r\n    const ok = await Axios.post(\"http://localhost:7000/user/session\", {result:user})\r\n    console.log(ok.data.item)\r\n    Setmypost(ok.data.item) \r\n  }\r\n   \r\n    \r\nconst ok =async () =>{\r\n  try{\r\n      const ok = await Axios.post(\"http://localhost:7000/user/session\", {result:user})\r\n      console.log(ok.data.item)\r\n      Setmypost(ok.data.item)\r\n  }catch(err){\r\n      console.log(\"error\")\r\n  }\r\n}\r\nuseEffect(() => {\r\nok()\r\n\r\n}, [user])    \r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <h1 className=\"h1-history\">ประวัติการโพสต์</h1>\r\n      {mypost ? <h2 className=\"h2-history2\">ทั้งหมด {mypost.length} โพสต์</h2> : null}\r\n      {mypost ? mypost.map(ok =>{\r\n        return (\r\n          <div>\r\n           \r\n      <div className=\"container-history1\">\r\n        <div className=\"container-history2\">\r\n          <div className=\"container-historysetiing\">\r\n            <div className=\"menu-containerhistorysetting\">\r\n                <div onClick={onClick} className=\"historybuttonsetting\">\r\n                    <img className=\"historyimg-setting\"\r\n                        src=\"/img/setting.png\"\r\n                        alt=\"avatar\">\r\n                    </img>\r\n                </div>\r\n                <div\r\n                  className={`historymenusetting ${isActive ? \"active\" : \"inactive\"}`}>\r\n                  <ul className=\"ul-historymenusetting\">\r\n                      <li className=\"li-historymenusetting\">\r\n                      <a className=\"a-mypostmenusetting\"><Link to={`/post/edit/${ok.uid}`}>แก้ไขโพสต์</Link></a>\r\n                      </li>\r\n                      <li className=\"li-historymenusetting\">\r\n                      <a className=\"a-mypostmenusetting\" onClick={() =>  deleted(ok.uid)}> ลบโพสต์ </a> \r\n                      </li>\r\n                  </ul>\r\n                </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"container-history\">\r\n            <Form className=\"formsize-history\">\r\n              <Form.Row>\r\n                <Form.Group\r\n                  as={Col}\r\n                  className=\"้history-left col-lg-6 col-12\"\r\n                  controlId=\"formGridName\"\r\n                  >\r\n                  <Form.Label>\r\n                    ชื่อ - นามสกุลผู้โกง\r\n                  </Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.name} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                    as={Col}\r\n                    className=\"history-left col-lg-6 col-12\"\r\n                    controlId=\"formGridId\"\r\n                    >\r\n                    <Form.Label>\r\n                        เลขที่บัญชี (ผู้โกง)\r\n                    </Form.Label>\r\n                </Form.Group>\r\n              \r\n                <Form.Group>\r\n                    <span className=\"spanhistory\">{ok.accountnumber}</span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                    as={Col}\r\n                    className=\"history-left col-lg-6 col-12\"\r\n                    controlId=\"formGridNameproduct\"\r\n                    >\r\n                    <Form.Label>\r\n                        ชื่อสินค้า\r\n                    </Form.Label>\r\n                </Form.Group>\r\n                \r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.nameproduct} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                    as={Col}\r\n                    className=\"history-left col-lg-6 col-12\"\r\n                    controlId=\"formGridPrice\"\r\n                    >\r\n                    <Form.Label>\r\n                        จำนวนเงิน (บาท)\r\n                    </Form.Label>\r\n                </Form.Group>\r\n                \r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.money} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row>\r\n                <Form.Group\r\n                    as={Col}\r\n                    className=\"history-left col-lg-6 col-12\"\r\n                    controlId=\"formGridDate\"\r\n                    >\r\n                    <Form.Label>\r\n                        วันที่โพสต์\r\n                    </Form.Label>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                  <span className=\"spanhistory\">{ok.date} </span>\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n            <div className=\"historyother\">\r\n              <Link className=\"historyother1\" to={`/mypost/${ok.uid}`}>ดูเพิ่มเติม</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n       \r\n       \r\n      \r\n      </div>\r\n          </div>\r\n        )\r\n      }) : null}\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n"]},"metadata":{},"sourceType":"module"}