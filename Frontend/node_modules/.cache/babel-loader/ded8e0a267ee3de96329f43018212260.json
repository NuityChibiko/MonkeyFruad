{"ast":null,"code":"'use strict'; // https://github.com/tc39/proposal-iterator-helpers\n\nvar $ = require('../internals/export');\n\nvar aFunction = require('../internals/a-function');\n\nvar anObject = require('../internals/an-object');\n\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar Promise = getBuiltIn('Promise');\n$({\n  target: 'AsyncIterator',\n  proto: true,\n  real: true\n}, {\n  reduce: function reduce(reducer\n  /* , initialValue */\n  ) {\n    var iterator = anObject(this);\n    var next = aFunction(iterator.next);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    aFunction(reducer);\n    return new Promise(function (resolve, reject) {\n      var loop = function () {\n        try {\n          Promise.resolve(anObject(next.call(iterator))).then(function (step) {\n            try {\n              if (anObject(step).done) {\n                noInitial ? reject(TypeError('Reduce of empty iterator with no initial value')) : resolve(accumulator);\n              } else {\n                var value = step.value;\n\n                if (noInitial) {\n                  noInitial = false;\n                  accumulator = value;\n                  loop();\n                } else {\n                  Promise.resolve(reducer(accumulator, value)).then(function (result) {\n                    accumulator = result;\n                    loop();\n                  }, reject);\n                }\n              }\n            } catch (err) {\n              reject(err);\n            }\n          }, reject);\n        } catch (error) {\n          reject(error);\n        }\n      };\n\n      loop();\n    });\n  }\n});","map":{"version":3,"sources":["D:/PROJECT ALL/MonkeyFruad/Backend/node_modules/core-js/modules/esnext.async-iterator.reduce.js"],"names":["$","require","aFunction","anObject","getBuiltIn","Promise","target","proto","real","reduce","reducer","iterator","next","noInitial","arguments","length","accumulator","undefined","resolve","reject","loop","call","then","step","done","TypeError","value","result","err","error"],"mappings":"AAAA,a,CACA;;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,qBAAD,CAAf;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,yBAAD,CAAvB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,wBAAD,CAAtB;;AACA,IAAIG,UAAU,GAAGH,OAAO,CAAC,2BAAD,CAAxB;;AAEA,IAAII,OAAO,GAAGD,UAAU,CAAC,SAAD,CAAxB;AAEAJ,CAAC,CAAC;AAAEM,EAAAA,MAAM,EAAE,eAAV;AAA2BC,EAAAA,KAAK,EAAE,IAAlC;AAAwCC,EAAAA,IAAI,EAAE;AAA9C,CAAD,EAAuD;AACtDC,EAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBC;AAAQ;AAAxB,IAA8C;AACpD,QAAIC,QAAQ,GAAGR,QAAQ,CAAC,IAAD,CAAvB;AACA,QAAIS,IAAI,GAAGV,SAAS,CAACS,QAAQ,CAACC,IAAV,CAApB;AACA,QAAIC,SAAS,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnC;AACA,QAAIC,WAAW,GAAGH,SAAS,GAAGI,SAAH,GAAeH,SAAS,CAAC,CAAD,CAAnD;AACAZ,IAAAA,SAAS,CAACQ,OAAD,CAAT;AAEA,WAAO,IAAIL,OAAJ,CAAY,UAAUa,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,UAAIC,IAAI,GAAG,YAAY;AACrB,YAAI;AACFf,UAAAA,OAAO,CAACa,OAAR,CAAgBf,QAAQ,CAACS,IAAI,CAACS,IAAL,CAAUV,QAAV,CAAD,CAAxB,EAA+CW,IAA/C,CAAoD,UAAUC,IAAV,EAAgB;AAClE,gBAAI;AACF,kBAAIpB,QAAQ,CAACoB,IAAD,CAAR,CAAeC,IAAnB,EAAyB;AACvBX,gBAAAA,SAAS,GAAGM,MAAM,CAACM,SAAS,CAAC,gDAAD,CAAV,CAAT,GAAyEP,OAAO,CAACF,WAAD,CAAzF;AACD,eAFD,MAEO;AACL,oBAAIU,KAAK,GAAGH,IAAI,CAACG,KAAjB;;AACA,oBAAIb,SAAJ,EAAe;AACbA,kBAAAA,SAAS,GAAG,KAAZ;AACAG,kBAAAA,WAAW,GAAGU,KAAd;AACAN,kBAAAA,IAAI;AACL,iBAJD,MAIO;AACLf,kBAAAA,OAAO,CAACa,OAAR,CAAgBR,OAAO,CAACM,WAAD,EAAcU,KAAd,CAAvB,EAA6CJ,IAA7C,CAAkD,UAAUK,MAAV,EAAkB;AAClEX,oBAAAA,WAAW,GAAGW,MAAd;AACAP,oBAAAA,IAAI;AACL,mBAHD,EAGGD,MAHH;AAID;AACF;AACF,aAhBD,CAgBE,OAAOS,GAAP,EAAY;AAAET,cAAAA,MAAM,CAACS,GAAD,CAAN;AAAc;AAC/B,WAlBD,EAkBGT,MAlBH;AAmBD,SApBD,CAoBE,OAAOU,KAAP,EAAc;AAAEV,UAAAA,MAAM,CAACU,KAAD,CAAN;AAAgB;AACnC,OAtBD;;AAwBAT,MAAAA,IAAI;AACL,KA1BM,CAAP;AA2BD;AAnCqD,CAAvD,CAAD","sourcesContent":["'use strict';\r\n// https://github.com/tc39/proposal-iterator-helpers\r\nvar $ = require('../internals/export');\r\nvar aFunction = require('../internals/a-function');\r\nvar anObject = require('../internals/an-object');\r\nvar getBuiltIn = require('../internals/get-built-in');\r\n\r\nvar Promise = getBuiltIn('Promise');\r\n\r\n$({ target: 'AsyncIterator', proto: true, real: true }, {\r\n  reduce: function reduce(reducer /* , initialValue */) {\r\n    var iterator = anObject(this);\r\n    var next = aFunction(iterator.next);\r\n    var noInitial = arguments.length < 2;\r\n    var accumulator = noInitial ? undefined : arguments[1];\r\n    aFunction(reducer);\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      var loop = function () {\r\n        try {\r\n          Promise.resolve(anObject(next.call(iterator))).then(function (step) {\r\n            try {\r\n              if (anObject(step).done) {\r\n                noInitial ? reject(TypeError('Reduce of empty iterator with no initial value')) : resolve(accumulator);\r\n              } else {\r\n                var value = step.value;\r\n                if (noInitial) {\r\n                  noInitial = false;\r\n                  accumulator = value;\r\n                  loop();\r\n                } else {\r\n                  Promise.resolve(reducer(accumulator, value)).then(function (result) {\r\n                    accumulator = result;\r\n                    loop();\r\n                  }, reject);\r\n                }\r\n              }\r\n            } catch (err) { reject(err); }\r\n          }, reject);\r\n        } catch (error) { reject(error); }\r\n      };\r\n\r\n      loop();\r\n    });\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"script"}