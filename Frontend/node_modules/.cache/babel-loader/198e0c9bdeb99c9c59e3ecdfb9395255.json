{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useRef,useState}from\"react\";import{Navbar,Nav,NavDropdown,Form,FormControl}from'react-bootstrap';import'bootstrap/dist/css/bootstrap.min.css';import\"./navbar.css\";import{firestore,auth}from\"../Frontfirebase\";import usercontext from\"../context/usercontext\";import axios from\"axios\";var Usernvabar=function Usernvabar(){var _useContext=useContext(usercontext),user=_useContext.user,setUser=_useContext.setUser;var _useState=useState(),_useState2=_slicedToArray(_useState,2),displayname=_useState2[0],setDisplayname=_useState2[1];var logout=function logout(){auth.signOut().then(function(){console.log(\"Signout\");}).catch(function(err){console.log(err);});};var session=function session(){console.log(\"OK\");axios.post(\"http://localhost:7000/user/userdata\",{user:user}).then(function(result){setDisplayname(result.data.data.username);}).catch(function(err){console.log(err);});};useEffect(function(){if(user){if(user.displayName===null){session();}else{setDisplayname(user.displayName);}}},[user]);console.log(user);return/*#__PURE__*/_jsx(\"div\",{className:\"Navbar\",children:/*#__PURE__*/_jsxs(Navbar,{variant:\"dark\",expand:\"lg\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",className:\"head\",children:\"Monkey Fraud\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsxs(NavDropdown,{title:\"\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/post\",children:\"\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/linkruleshow\",children:\"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"})]}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/ranking\",children:\"\\u0E08\\u0E31\\u0E14\\u0E2D\\u0E31\\u0E19\\u0E14\\u0E31\\u0E1A\\u0E04\\u0E19\\u0E42\\u0E01\\u0E07\"}),/*#__PURE__*/_jsxs(NavDropdown,{title:\"\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/prevent\",children:\"\\u0E23\\u0E39\\u0E49\\u0E44\\u0E27\\u0E49\\u0E44\\u0E21\\u0E48\\u0E42\\u0E14\\u0E19\\u0E42\\u0E01\\u0E07\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/helpnew\",children:\"\\u0E0A\\u0E48\\u0E2D\\u0E07\\u0E17\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E0A\\u0E48\\u0E27\\u0E22\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"})]}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/contractus\",children:\"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E32\"})]}),/*#__PURE__*/_jsxs(Form,{inline:true,children:[/*#__PURE__*/_jsx(FormControl,{type:\"text\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E14\\u0E49\\u0E27\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35\",className:\"boxsearch\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttonnavbarsearch\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"search\"})})]}),user?/*#__PURE__*/_jsxs(NavDropdown,{alignRight:true,title:displayname,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/profile\",children:\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/post/history\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E1E\\u0E2A\\u0E15\\u0E4C\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/login\",onClick:logout,children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})// <button onClick={logout}>logout</button>\n:/*#__PURE__*/_jsx(Nav.Link,{className:\"link\",href:\"/login\",children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})]})});};export default Usernvabar;","map":{"version":3,"sources":["D:/MonkeyFruad/frontend/src/user/components/navbar.js"],"names":["React","useContext","useEffect","useRef","useState","Navbar","Nav","NavDropdown","Form","FormControl","firestore","auth","usercontext","axios","Usernvabar","user","setUser","displayname","setDisplayname","logout","signOut","then","console","log","catch","err","session","post","result","data","username","displayName"],"mappings":"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","sourcesContent":["import React, { useContext,useEffect,useRef,useState} from \"react\";\r\nimport { Navbar,Nav,NavDropdown,Form,FormControl } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./navbar.css\";\r\nimport { firestore, auth} from \"../Frontfirebase\";\r\nimport usercontext from \"../context/usercontext\"\r\nimport axios from \"axios\";\r\n\r\nconst Usernvabar = () => {\r\n  var { user , setUser} = useContext(usercontext)\r\n  const [displayname , setDisplayname] = useState()\r\n  const logout = () =>{\r\n    auth.signOut().then(()=>{\r\n      console.log(\"Signout\")\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n  }\r\n  const session = () =>{\r\n    console.log(\"OK\")\r\n    axios.post(\"http://localhost:7000/user/userdata\", { user : user })\r\n    .then((result) => {\r\n      setDisplayname(result.data.data.username)\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n  useEffect(()=>{\r\n    if(user){\r\n    if(user.displayName === null){\r\n      session()\r\n    }\r\n    else{\r\n      setDisplayname(user.displayName)\r\n    }\r\n  }\r\n     },[user]);\r\nconsole.log(user)\r\n  return (\r\n    <div className=\"Navbar\">\r\n        <Navbar variant=\"dark\" expand=\"lg\">\r\n        <Navbar.Brand href=\"/\" className=\"head\">Monkey Fraud</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"mr-auto\">\r\n            <NavDropdown title=\"โพสต์\" id=\"basic-nav-dropdown\">\r\n              <NavDropdown.Item href=\"/post\">โพสต์ทั้งหมด</NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              <NavDropdown.Item href=\"/linkruleshow\">สร้างโพสต์</NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"/ranking\">จัดอันดับคนโกง</Nav.Link>\r\n            <NavDropdown title=\"ช่วยเหลือ\" id=\"basic-nav-dropdown\">\r\n              <NavDropdown.Item href=\"/prevent\">รู้ไว้ไม่โดนโกง</NavDropdown.Item>\r\n              <NavDropdown.Divider />\r\n              {/* <NavDropdown.Item href=\"/help\">ช่องทางการช่วยเหลือ</NavDropdown.Item> */}\r\n              <NavDropdown.Item href=\"/helpnew\">ช่องทางการช่วยเหลือ</NavDropdown.Item>\r\n            </NavDropdown>\r\n            <Nav.Link href=\"/contractus\">ติดต่อเรา</Nav.Link>\r\n           \r\n          </Nav>\r\n          <Form inline>\r\n              <FormControl type=\"text\" placeholder=\"ค้นหาด้วยชื่อหรือเลขที่บัญชี\" className=\"boxsearch\" />\r\n              <button className=\"buttonnavbarsearch\"><i className=\"material-icons\">search</i></button>\r\n            </Form>\r\n          { user ?  \r\n              <NavDropdown alignRight title={displayname} id=\"basic-nav-dropdown\">\r\n                <NavDropdown.Item href=\"/profile\">จัดการโปรไฟล์</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"/post/history\">ประวัติการโพสต์</NavDropdown.Item>\r\n                <NavDropdown.Divider />\r\n                <NavDropdown.Item href=\"/login\" onClick={logout}>ออกจากระบบ</NavDropdown.Item>\r\n              </NavDropdown>\r\n          // <button onClick={logout}>logout</button>\r\n          : \r\n              <Nav.Link className=\"link\" href=\"/login\">เข้าสู่ระบบ</Nav.Link>\r\n            }\r\n            \r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\nexport default Usernvabar;\r\n"]},"metadata":{},"sourceType":"module"}