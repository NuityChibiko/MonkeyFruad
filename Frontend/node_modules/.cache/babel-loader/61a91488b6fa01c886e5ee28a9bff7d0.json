{"ast":null,"code":"\"use strict\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/* eslint-disable class-methods-use-this */\n\n\nvar CACHE = Symbol.for(\"com.cloudinary.cache\");\nvar CACHE_ADAPTER = Symbol.for(\"com.cloudinary.cacheAdapter\");\n\nvar _require = require('./utils'),\n    ensurePresenceOf = _require.ensurePresenceOf,\n    generate_transformation_string = _require.generate_transformation_string;\n/**\r\n * The adapter used to communicate with the underlying cache storage\r\n */\n\n\nvar CacheAdapter = function () {\n  function CacheAdapter() {\n    _classCallCheck(this, CacheAdapter);\n  }\n\n  _createClass(CacheAdapter, [{\n    key: \"get\",\n\n    /**\r\n     * Get a value from the cache\r\n     * @param {string} publicId\r\n     * @param {string} type\r\n     * @param {string} resourceType\r\n     * @param {string} transformation\r\n     * @param {string} format\r\n     * @return {*} the value associated with the provided arguments\r\n     */\n    value: function get(publicId, type, resourceType, transformation, format) {}\n    /**\r\n     * Set a new value in the cache\r\n     * @param {string} publicId\r\n     * @param {string} type\r\n     * @param {string} resourceType\r\n     * @param {string} transformation\r\n     * @param {string} format\r\n     * @param {*} value\r\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(publicId, type, resourceType, transformation, format, value) {}\n    /**\r\n     * Delete all values in the cache\r\n     */\n\n  }, {\n    key: \"flushAll\",\n    value: function flushAll() {}\n  }]);\n\n  return CacheAdapter;\n}();\n/**\r\n * @class Cache\r\n * Stores and retrieves values identified by publicId / options pairs\r\n */\n\n\nvar Cache = {\n  /**\r\n   * The adapter interface. Extend this class to implement a specific adapter.\r\n   * @type CacheAdapter\r\n   */\n  CacheAdapter,\n\n  /**\r\n   * Set the cache adapter\r\n   * @param {CacheAdapter} adapter The cache adapter\r\n   */\n  setAdapter(adapter) {\n    if (this.adapter) {\n      console.warn(\"Overriding existing cache adapter\");\n    }\n\n    this.adapter = adapter;\n  },\n\n  /**\r\n   * Get the adapter the Cache is using\r\n   * @return {CacheAdapter} the current cache adapter\r\n   */\n  getAdapter() {\n    return this.adapter;\n  },\n\n  /**\r\n   * Get an item from the cache\r\n   * @param {string} publicId\r\n   * @param {object} options\r\n   * @return {*}\r\n   */\n  get(publicId, options) {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    ensurePresenceOf({\n      publicId\n    });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.get(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format);\n  },\n\n  /**\r\n   * Set a new value in the cache\r\n   * @param {string} publicId\r\n   * @param {object} options\r\n   * @param {*} value\r\n   * @return {*}\r\n   */\n  set(publicId, options, value) {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    ensurePresenceOf({\n      publicId,\n      value\n    });\n    var transformation = generate_transformation_string(_extends({}, options));\n    return this.adapter.set(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format, value);\n  },\n\n  /**\r\n   * Clear all items in the cache\r\n   * @return {*} Returns the value from the adapter's flushAll() method\r\n   */\n  flushAll() {\n    if (!this.adapter) {\n      return undefined;\n    }\n\n    return this.adapter.flushAll();\n  }\n\n}; // Define singleton property\n\nObject.defineProperty(Cache, \"instance\", {\n  get() {\n    return global[CACHE];\n  }\n\n});\nObject.defineProperty(Cache, \"adapter\", {\n  /**\r\n   *\r\n   * @return {CacheAdapter} The current cache adapter\r\n   */\n  get() {\n    return global[CACHE_ADAPTER];\n  },\n\n  /**\r\n   * Set the cache adapter to be used by Cache\r\n   * @param {CacheAdapter} adapter Cache adapter\r\n   */\n  set(adapter) {\n    global[CACHE_ADAPTER] = adapter;\n  }\n\n});\nObject.freeze(Cache); // Instantiate the singleton\n\nvar symbols = Object.getOwnPropertySymbols(global);\n\nif (symbols.indexOf(CACHE) < 0) {\n  global[CACHE] = Cache;\n}\n/**\r\n * Store key value pairs\r\n\r\n */\n\n\nmodule.exports = Cache;","map":{"version":3,"sources":["D:/PROJECT ALL/MonkeyFruad/Backend/node_modules/cloudinary/lib-es5/cache.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","CACHE","Symbol","for","CACHE_ADAPTER","_require","require","ensurePresenceOf","generate_transformation_string","CacheAdapter","value","get","publicId","type","resourceType","transformation","format","set","flushAll","Cache","setAdapter","adapter","console","warn","getAdapter","options","undefined","resource_type","global","freeze","symbols","getOwnPropertySymbols","indexOf","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n/* eslint-disable class-methods-use-this */\r\n\r\nvar CACHE = Symbol.for(\"com.cloudinary.cache\");\r\nvar CACHE_ADAPTER = Symbol.for(\"com.cloudinary.cacheAdapter\");\r\n\r\nvar _require = require('./utils'),\r\n    ensurePresenceOf = _require.ensurePresenceOf,\r\n    generate_transformation_string = _require.generate_transformation_string;\r\n\r\n/**\r\n * The adapter used to communicate with the underlying cache storage\r\n */\r\n\r\n\r\nvar CacheAdapter = function () {\r\n  function CacheAdapter() {\r\n    _classCallCheck(this, CacheAdapter);\r\n  }\r\n\r\n  _createClass(CacheAdapter, [{\r\n    key: \"get\",\r\n\r\n    /**\r\n     * Get a value from the cache\r\n     * @param {string} publicId\r\n     * @param {string} type\r\n     * @param {string} resourceType\r\n     * @param {string} transformation\r\n     * @param {string} format\r\n     * @return {*} the value associated with the provided arguments\r\n     */\r\n    value: function get(publicId, type, resourceType, transformation, format) {}\r\n\r\n    /**\r\n     * Set a new value in the cache\r\n     * @param {string} publicId\r\n     * @param {string} type\r\n     * @param {string} resourceType\r\n     * @param {string} transformation\r\n     * @param {string} format\r\n     * @param {*} value\r\n     */\r\n\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(publicId, type, resourceType, transformation, format, value) {}\r\n\r\n    /**\r\n     * Delete all values in the cache\r\n     */\r\n\r\n  }, {\r\n    key: \"flushAll\",\r\n    value: function flushAll() {}\r\n  }]);\r\n\r\n  return CacheAdapter;\r\n}();\r\n/**\r\n * @class Cache\r\n * Stores and retrieves values identified by publicId / options pairs\r\n */\r\n\r\n\r\nvar Cache = {\r\n  /**\r\n   * The adapter interface. Extend this class to implement a specific adapter.\r\n   * @type CacheAdapter\r\n   */\r\n  CacheAdapter,\r\n  /**\r\n   * Set the cache adapter\r\n   * @param {CacheAdapter} adapter The cache adapter\r\n   */\r\n  setAdapter(adapter) {\r\n    if (this.adapter) {\r\n      console.warn(\"Overriding existing cache adapter\");\r\n    }\r\n    this.adapter = adapter;\r\n  },\r\n  /**\r\n   * Get the adapter the Cache is using\r\n   * @return {CacheAdapter} the current cache adapter\r\n   */\r\n  getAdapter() {\r\n    return this.adapter;\r\n  },\r\n  /**\r\n   * Get an item from the cache\r\n   * @param {string} publicId\r\n   * @param {object} options\r\n   * @return {*}\r\n   */\r\n  get(publicId, options) {\r\n    if (!this.adapter) {\r\n      return undefined;\r\n    }\r\n    ensurePresenceOf({ publicId });\r\n    var transformation = generate_transformation_string(_extends({}, options));\r\n    return this.adapter.get(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format);\r\n  },\r\n  /**\r\n   * Set a new value in the cache\r\n   * @param {string} publicId\r\n   * @param {object} options\r\n   * @param {*} value\r\n   * @return {*}\r\n   */\r\n  set(publicId, options, value) {\r\n    if (!this.adapter) {\r\n      return undefined;\r\n    }\r\n    ensurePresenceOf({ publicId, value });\r\n    var transformation = generate_transformation_string(_extends({}, options));\r\n    return this.adapter.set(publicId, options.type || 'upload', options.resource_type || 'image', transformation, options.format, value);\r\n  },\r\n  /**\r\n   * Clear all items in the cache\r\n   * @return {*} Returns the value from the adapter's flushAll() method\r\n   */\r\n  flushAll() {\r\n    if (!this.adapter) {\r\n      return undefined;\r\n    }\r\n    return this.adapter.flushAll();\r\n  }\r\n\r\n};\r\n\r\n// Define singleton property\r\nObject.defineProperty(Cache, \"instance\", {\r\n  get() {\r\n    return global[CACHE];\r\n  }\r\n});\r\nObject.defineProperty(Cache, \"adapter\", {\r\n  /**\r\n   *\r\n   * @return {CacheAdapter} The current cache adapter\r\n   */\r\n  get() {\r\n    return global[CACHE_ADAPTER];\r\n  },\r\n  /**\r\n   * Set the cache adapter to be used by Cache\r\n   * @param {CacheAdapter} adapter Cache adapter\r\n   */\r\n  set(adapter) {\r\n    global[CACHE_ADAPTER] = adapter;\r\n  }\r\n});\r\nObject.freeze(Cache);\r\n\r\n// Instantiate the singleton\r\nvar symbols = Object.getOwnPropertySymbols(global);\r\nif (symbols.indexOf(CACHE) < 0) {\r\n  global[CACHE] = Cache;\r\n}\r\n\r\n/**\r\n * Store key value pairs\r\n\r\n */\r\nmodule.exports = Cache;"]},"metadata":{},"sourceType":"script"}