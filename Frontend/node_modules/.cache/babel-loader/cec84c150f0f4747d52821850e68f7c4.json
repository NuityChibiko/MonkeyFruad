{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import package and file\nimport React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Route,Switch,Redirect}from\"react-router-dom\";import{auth}from\"./user/Frontfirebase\";import Home from\"./user/pages/index\";import Contractus from\"./user/pages/contractus\";import Createpost from\"./user/pages/createpost\";import Login from\"./user/pages/login\";import Post from\"./user/pages/post\";import Forgetpass from\"./user/pages/forgetpass\";import Signup from\"./user/pages/signup\";import Prevent from\"./user/pages/prevent\";import Helpnew from\"./user/pages/helpnew\";import Rank from\"./user/pages/ranking\";import Editpost from\"./user/pages/editpost\";import History from\"./user/pages/history\";import Mypost from\"./user/pages/mypost\";import Linkruleshow from\"./user/pages/linkruleshow\";import Profile from\"./user/pages/profile\";import HomeAdmin from\"./admin/pages/index\";import ContractusAdmin from\"./admin/pages/contractus\";import Managepost from\"./admin/pages/managepost\";import Non_verifypost from\"./admin/pages/non_verifypost\";import Verifypost from\"./admin/pages/verifypost\";import\"./app.css\";import usercontext from\"./user/context/usercontext\";// ที่รวม Routh ต่างๆ\nvar App=function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loadingAuth=_useState4[0],setLoadingAuth=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),admin=_useState6[0],setAdmin=_useState6[1];useEffect(function(){auth.onAuthStateChanged(function(user){if(user){if(user.uid===\"Q8YgWOHIlAeCY0TF8jZK21VL7Hb2\"){setAdmin(true);setLoadingAuth(false);}setUser(user);}else{setUser(null);}setLoadingAuth(false);});},[]);console.log(user);return loadingAuth?\"\":admin?/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(usercontext.Provider,{value:{user:user,setUser:setUser},children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(HomeAdmin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/managepost\",exact:true,children:/*#__PURE__*/_jsx(Managepost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/non_verifypost\",exact:true,children:/*#__PURE__*/_jsx(Non_verifypost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/verifypost\",exact:true,children:/*#__PURE__*/_jsx(Verifypost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contractus\",exact:true,children:/*#__PURE__*/_jsx(ContractusAdmin,{})})]})})}):/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(usercontext.Provider,{value:{user:user,setUser:setUser},children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/history\",exact:true,children:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/create\",exact:true,children:/*#__PURE__*/_jsx(Createpost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/edit/:uid\",exact:true,children:/*#__PURE__*/_jsx(Editpost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:uid\",exact:true,children:/*#__PURE__*/_jsx(Post,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ranking\",exact:true,children:/*#__PURE__*/_jsx(Rank,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",exact:true,children:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",exact:true,children:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgetpass\",exact:true,children:/*#__PURE__*/_jsx(Forgetpass,{})}),/*#__PURE__*/_jsx(Route,{path:\"/prevent\",exact:true,children:/*#__PURE__*/_jsx(Prevent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/help\",exact:true,children:/*#__PURE__*/_jsx(Helpnew,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contractus\",exact:true,children:/*#__PURE__*/_jsx(Contractus,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mypost/:uid\",exact:true,children:/*#__PURE__*/_jsx(Mypost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post\",exact:true,children:/*#__PURE__*/_jsx(Post,{})}),/*#__PURE__*/_jsx(Route,{path:\"/linkruleshow\",exact:true,children:user?/*#__PURE__*/_jsx(Linkruleshow,{}):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login',search:'?login = false',// query string\nstate:{// location state\nlogin:false}}})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",exact:true,children:/*#__PURE__*/_jsx(Profile,{})})]})})});};export default App;","map":{"version":3,"sources":["D:/MonkeyFruad/frontend/src/app.js"],"names":["React","useEffect","useState","BrowserRouter","Router","Route","Switch","Redirect","auth","Home","Contractus","Createpost","Login","Post","Forgetpass","Signup","Prevent","Helpnew","Rank","Editpost","History","Mypost","Linkruleshow","Profile","HomeAdmin","ContractusAdmin","Managepost","Non_verifypost","Verifypost","usercontext","App","user","setUser","loadingAuth","setLoadingAuth","admin","setAdmin","onAuthStateChanged","uid","console","log","pathname","search","state","login"],"mappings":"sOAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,aAAa,GAAIC,CAAAA,MADnB,CAEEC,KAFF,CAGEC,MAHF,CAIEC,QAJF,KAKO,kBALP,CAMA,OAASC,IAAT,KAAqB,sBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,eAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,MAAO,WAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CAEA;AACA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACQ5B,QAAQ,EADhB,wCACT6B,IADS,eACHC,OADG,8BAEsB9B,QAAQ,CAAC,IAAD,CAF9B,yCAET+B,WAFS,eAEIC,cAFJ,8BAGShC,QAAQ,CAAC,KAAD,CAHjB,yCAGTiC,KAHS,eAGHC,QAHG,eAIhBnC,SAAS,CAAC,UAAM,CACdO,IAAI,CAAC6B,kBAAL,CAAwB,SAACN,IAAD,CAAU,CAChC,GAAIA,IAAJ,CAAU,CACR,GAAGA,IAAI,CAACO,GAAL,GAAa,8BAAhB,CAA+C,CAC7CF,QAAQ,CAAC,IAAD,CAAR,CACAF,cAAc,CAAC,KAAD,CAAd,CACD,CACDF,OAAO,CAACD,IAAD,CAAP,CACD,CAND,IAMO,CACLC,OAAO,CAAC,IAAD,CAAP,CACD,CACDE,cAAc,CAAC,KAAD,CAAd,CACD,CAXD,EAYD,CAbQ,CAaN,EAbM,CAAT,CAcAK,OAAO,CAACC,GAAR,CAAYT,IAAZ,EAEA,MAAOE,CAAAA,WAAW,CAChB,EADgB,CAEbE,KAAK,cACR,KAAC,MAAD,wBACA,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAA7B,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,uBACE,KAAC,SAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,uBACE,KAAC,UAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,KAAK,KAAnC,uBACE,KAAC,cAAD,IADF,EAPF,cAUE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,uBACE,KAAC,UAAD,IADF,EAVF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,uBACE,KAAC,eAAD,IADF,EAbF,GADF,EADA,EADQ,cAuBR,KAAC,MAAD,wBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAED,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAA7B,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,uBACE,KAAC,IAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,KAAK,KAAjC,uBACE,KAAC,OAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,KAAK,KAAhC,uBACE,KAAC,UAAD,IADF,EAPF,cAUE,KAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,CAA8B,KAAK,KAAnC,uBACE,KAAC,QAAD,IADF,EAVF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,KAAK,KAA9B,uBACE,KAAC,IAAD,IADF,EAbF,cAgBE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,KAA5B,uBACE,KAAC,IAAD,IADF,EAhBF,cAmBE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,KAA1B,uBACE,KAAC,KAAD,IADF,EAnBF,cAsBE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,KAAK,KAA3B,uBACE,KAAC,MAAD,IADF,EAtBF,cAyBE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,uBACE,KAAC,UAAD,IADF,EAzBF,cA4BE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,KAA5B,uBACE,KAAC,OAAD,IADF,EA5BF,cA+BE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,KAAzB,uBACE,KAAC,OAAD,IADF,EA/BF,cAkCE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,KAAK,KAA/B,uBACE,KAAC,UAAD,IADF,EAlCF,cAqCE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,KAAK,KAAhC,uBACE,KAAC,MAAD,IADF,EArCF,cAwCE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,KAAzB,uBACE,KAAC,IAAD,IADF,EAxCF,cA2CE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,KAAK,KAAjC,UACGD,IAAI,cACH,KAAC,YAAD,IADG,cAEH,KAAC,QAAD,EACE,EAAE,CAAE,CACFU,QAAQ,CAAE,QADR,CAEFC,MAAM,CAAE,gBAFN,CAEyB;AAC3BC,KAAK,CAAE,CAAG;AACVC,KAAK,CAAE,KADA,CAHL,CADN,EAHJ,EA3CF,cAwDC,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,KAA5B,uBACG,KAAC,OAAD,IADH,EAxDD,GADF,EADF,EAzBF,CA0FD,CA9GD,CA+GA,cAAed,CAAAA,GAAf","sourcesContent":["// import package and file\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { auth } from \"./user/Frontfirebase\";\r\nimport Home from \"./user/pages/index\";\r\nimport Contractus from \"./user/pages/contractus\";\r\nimport Createpost from \"./user/pages/createpost\";\r\nimport Login from \"./user/pages/login\";\r\nimport Post from \"./user/pages/post\";\r\nimport Forgetpass from \"./user/pages/forgetpass\";\r\nimport Signup from \"./user/pages/signup\";\r\nimport Prevent from \"./user/pages/prevent\";\r\nimport Helpnew from \"./user/pages/helpnew\";\r\nimport Rank from \"./user/pages/ranking\";\r\nimport Editpost from \"./user/pages/editpost\";\r\nimport History from \"./user/pages/history\";\r\nimport Mypost from \"./user/pages/mypost\";\r\nimport Linkruleshow from \"./user/pages/linkruleshow\";\r\nimport Profile from \"./user/pages/profile\";\r\n\r\nimport HomeAdmin from \"./admin/pages/index\";\r\nimport ContractusAdmin  from \"./admin/pages/contractus\";\r\nimport Managepost from \"./admin/pages/managepost\";\r\nimport Non_verifypost from \"./admin/pages/non_verifypost\";\r\nimport Verifypost from \"./admin/pages/verifypost\";\r\n\r\nimport \"./app.css\";\r\nimport usercontext from \"./user/context/usercontext\";\r\n\r\n// ที่รวม Routh ต่างๆ\r\nconst App = () => {\r\n  const [user, setUser] = useState();\r\n  const [loadingAuth, setLoadingAuth] = useState(true);\r\n  const [admin,setAdmin] = useState(false)\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        if(user.uid === \"Q8YgWOHIlAeCY0TF8jZK21VL7Hb2\"){\r\n          setAdmin(true)\r\n          setLoadingAuth(false);\r\n        }\r\n        setUser(user);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n      setLoadingAuth(false);\r\n    });\r\n  }, []);\r\n  console.log(user);\r\n\r\n  return loadingAuth ? (\r\n    \"\"\r\n  ) : (admin ? (\r\n    <Router>\r\n    <usercontext.Provider value={{ user, setUser }}>\r\n      <Switch>\r\n        <Route path=\"/\" exact>\r\n          <HomeAdmin />\r\n        </Route>\r\n        <Route path=\"/managepost\" exact>\r\n          <Managepost />\r\n        </Route>\r\n        <Route path=\"/non_verifypost\" exact>\r\n          <Non_verifypost />\r\n        </Route>\r\n        <Route path=\"/verifypost\" exact>\r\n          <Verifypost />\r\n        </Route>\r\n        <Route path=\"/contractus\" exact>\r\n          <ContractusAdmin />\r\n        </Route>\r\n      </Switch>\r\n    </usercontext.Provider>\r\n  </Router>\r\n  ) : (\r\n    <Router>\r\n      <usercontext.Provider value={{ user, setUser }}>\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/post/history\" exact>\r\n            <History />\r\n          </Route>\r\n          <Route path=\"/post/create\" exact>\r\n            <Createpost />\r\n          </Route>\r\n          <Route path=\"/post/edit/:uid\" exact>\r\n            <Editpost />\r\n          </Route>\r\n          <Route path=\"/post/:uid\" exact>\r\n            <Post />\r\n          </Route>\r\n          <Route path=\"/ranking\" exact>\r\n            <Rank />\r\n          </Route>\r\n          <Route path=\"/login\" exact>\r\n            <Login />\r\n          </Route>\r\n          <Route path=\"/signup\" exact>\r\n            <Signup />\r\n          </Route>\r\n          <Route path=\"/forgetpass\" exact>\r\n            <Forgetpass />\r\n          </Route>\r\n          <Route path=\"/prevent\" exact>\r\n            <Prevent />\r\n          </Route>\r\n          <Route path=\"/help\" exact>\r\n            <Helpnew />\r\n          </Route>\r\n          <Route path=\"/contractus\" exact>\r\n            <Contractus />\r\n          </Route>\r\n          <Route path=\"/mypost/:uid\" exact>\r\n            <Mypost />\r\n          </Route>\r\n          <Route path=\"/post\" exact>\r\n            <Post />\r\n          </Route>\r\n          <Route path=\"/linkruleshow\" exact>\r\n            {user ? \r\n              <Linkruleshow /> : \r\n              <Redirect\r\n                to={{\r\n                  pathname: '/login',\r\n                  search: '?login = false',  // query string\r\n                  state: {  // location state\r\n                  login: false, \r\n                }}}\r\n                />\r\n              }\r\n          </Route>\r\n         <Route path=\"/profile\" exact>\r\n            <Profile />\r\n          </Route>\r\n        </Switch>\r\n      </usercontext.Provider>\r\n    </Router>\r\n  ) )\r\n};\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}