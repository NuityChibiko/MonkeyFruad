{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import Navbar from\"../components/navbar\";import Axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";import{auth,googleProvider,facebookProvider,firestore}from\"../Frontfirebase\";var Post=function Post(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],Setdata=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],Setshow=_useState4[1];var history=useHistory();var ok=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var showdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firestore.collection(\"Post\").onSnapshot(function(querySnapshot){var item=[];querySnapshot.forEach(function(doc){item.push(doc.data());console.log(item);});Setshow(item);});case 2:showdata=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function ok(){return _ref.apply(this,arguments);};}();useEffect(function(){ok();},[]);var deleted=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(uid){var postdelete;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.post(\"http://localhost:7000/post/delete/\".concat(uid));case 2:postdelete=_context2.sent;console.log(postdelete.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleted(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{children:\" Post\"}),show?show.map(function(ok){return/*#__PURE__*/_jsxs(\"div\",{children:[ok.name,\" \",/*#__PURE__*/_jsx(\"br\",{}),ok.accountnumber,\" \",/*#__PURE__*/_jsx(\"br\",{}),ok.nameproduct,\" \",/*#__PURE__*/_jsx(\"br\",{}),ok.money,\" \",/*#__PURE__*/_jsx(\"br\",{}),ok.datetime,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/post/edit/\".concat(ok.uid),children:\" Edit \"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleted(ok.uid);},children:\" x \"})]});}):null]});};export default Post;","map":{"version":3,"sources":["D:/MonkeyFruad/frontend/src/user/pages/post.js"],"names":["axios","React","useEffect","useState","Navbar","Axios","Link","useHistory","auth","googleProvider","facebookProvider","firestore","Post","data","Setdata","show","Setshow","history","ok","collection","onSnapshot","querySnapshot","item","forEach","doc","push","console","log","showdata","deleted","uid","post","postdelete","map","name","accountnumber","nameproduct","money","datetime"],"mappings":"+fAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAgBC,UAAhB,KAAiC,kBAAjC,CACA,OACEC,IADF,CAEEC,cAFF,CAGEC,gBAHF,CAIEC,SAJF,KAKO,kBALP,CAMA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eACMT,QAAQ,EADd,wCACVU,IADU,eACLC,OADK,8BAEMX,QAAQ,EAFd,yCAEVY,IAFU,eAELC,OAFK,eAGjB,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA,GAAMW,CAAAA,EAAE,0FAAG,sKAEcP,CAAAA,SAAS,CAACQ,UAAV,CAAqB,MAArB,EAA6BC,UAA7B,CAAwC,SAACC,aAAD,CAAkB,CAE/E,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAD,aAAa,CAACE,OAAd,CAAsB,SAACC,GAAD,CAAQ,CAE5BF,IAAI,CAACG,IAAL,CAAUD,GAAG,CAACX,IAAJ,EAAV,EACAa,OAAO,CAACC,GAAR,CAAYL,IAAZ,EACD,CAJD,EAKAN,OAAO,CAACM,IAAD,CAAP,CACD,CATsB,CAFd,QAEHM,QAFG,qEAAH,kBAAFV,CAAAA,EAAE,0CAAR,CAiBAhB,SAAS,CAAC,UAAM,CACdgB,EAAE,GACL,CAFU,CAER,EAFQ,CAAT,CAKF,GAAMW,CAAAA,OAAO,2FAAG,kBAAMC,GAAN,4JACWzB,CAAAA,KAAK,CAAC0B,IAAN,6CAAgDD,GAAhD,EADX,QACRE,UADQ,gBAEdN,OAAO,CAACC,GAAR,CAAYK,UAAU,CAACnB,IAAvB,EAFc,wDAAH,kBAAPgB,CAAAA,OAAO,6CAAb,CAOE,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,6BAFF,CAGGd,IAAI,CAAGA,IAAI,CAAEkB,GAAN,CAAU,SAAAf,EAAE,CAAG,CACrB,mBACA,uBACCA,EAAE,CAACgB,IADJ,kBACU,aADV,CAEChB,EAAE,CAACiB,aAFJ,kBAEmB,aAFnB,CAGCjB,EAAE,CAACkB,WAHJ,kBAGiB,aAHjB,CAIClB,EAAE,CAACmB,KAJJ,kBAIW,aAJX,CAKCnB,EAAE,CAACoB,QALJ,kBAKc,aALd,cAMA,KAAC,IAAD,EAAM,EAAE,sBAAgBpB,EAAE,CAACY,GAAnB,CAAR,oBANA,cAOA,eAAQ,OAAO,CAAE,yBAAOD,CAAAA,OAAO,CAACX,EAAE,CAACY,GAAJ,CAAd,EAAjB,iBAPA,GADA,CAWD,CAZO,CAAH,CAYA,IAfP,GADF,CAmBD,CArDD,CA0DA,cAAelB,CAAAA,IAAf","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"../components/navbar\";\r\nimport Axios from \"axios\"\r\nimport { Link , useHistory} from \"react-router-dom\";\r\nimport {\r\n  auth,\r\n  googleProvider,\r\n  facebookProvider,\r\n  firestore\r\n} from \"../Frontfirebase\";\r\nconst Post = () => {\r\n  const [data,Setdata] = useState()\r\n  const [show,Setshow] = useState()\r\n  const history = useHistory()\r\n  \r\n  const ok = async () =>{\r\n    \r\n    const showdata = await firestore.collection(\"Post\").onSnapshot((querySnapshot) =>{\r\n     \r\n      let item = []\r\n      querySnapshot.forEach((doc) =>{\r\n        \r\n        item.push(doc.data())\r\n        console.log(item)\r\n      })\r\n      Setshow(item)\r\n    })\r\n  \r\n\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    ok()\r\n}, [])\r\n\r\n\r\nconst deleted = async(uid) =>{\r\n  const postdelete = await Axios.post(`http://localhost:7000/post/delete/${uid}`)\r\n  console.log(postdelete.data)\r\n}\r\n \r\n\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <h1> Post</h1>\r\n      {show ? show .map(ok =>{\r\n        return (\r\n        <div>\r\n        {ok.name} <br></br>\r\n        {ok.accountnumber} <br></br>\r\n        {ok.nameproduct} <br></br>\r\n        {ok.money} <br></br>\r\n        {ok.datetime} <br></br>\r\n        <Link to={`/post/edit/${ok.uid}`}> Edit </Link>\r\n        <button onClick={() =>  deleted(ok.uid)}> x </button> \r\n        </div>\r\n      )\r\n      }) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}