{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/monkeyfruad/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import package and file\nimport React,{useEffect,useRef,useState,useContext,createContext}from\"react\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import{firestore,auth}from\"./user/Frontfirebase\";import Home from\"./user/pages/index\";import Contractus from\"./user/pages/contractus\";import Createpost from\"./user/pages/createpost\";import Login from\"./user/pages/login\";import Post from\"./user/pages/post\";import Forgetpass from\"./user/pages/forgetpass\";import Signup from\"./user/pages/signup\";import Prevent from\"./user/pages/prevent\";import Help from\"./user/pages/help\";import Rank from\"./user/pages/ranking\";import Editpost from\"./user/pages/editpost\";import History from\"./user/pages/history\";import Mypost from\"./user/pages/mypost\";import\"./app.css\";import Axios from\"axios\";import usercontext from\"./user/context/usercontext\";// import Mypost from \"./user/pages/mypost\";\n// ที่รวม Routh ต่างๆ\nvar App=function App(){var userRef=useRef(firestore.collection(\"User\")).current;var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){var authUnsubscribe=auth.onAuthStateChanged(function(firebaseUser){if(firebaseUser){userRef.doc(firebaseUser.uid).onSnapshot(function(doc){if(doc.data()){var userData={uid:doc.data().uid,email:doc.data().email,firstname:doc.data().firstname,surname:doc.data().surname,country:doc.data().country,province:doc.data().province,role:doc.data().role,sex:doc.data().sex};setUser(userData);}});}else{setUser(null);}});return function(){authUnsubscribe();};},[]);console.log(user);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(usercontext.Provider,{value:{user:user,setUser:setUser},children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/history\",exact:true,children:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/create\",exact:true,children:/*#__PURE__*/_jsx(Createpost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/edit/:uid\",exact:true,children:/*#__PURE__*/_jsx(Editpost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:uid\",exact:true,children:/*#__PURE__*/_jsx(Post,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ranking\",exact:true,children:/*#__PURE__*/_jsx(Rank,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",exact:true,children:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",exact:true,children:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgetpass\",exact:true,children:/*#__PURE__*/_jsx(Forgetpass,{})}),/*#__PURE__*/_jsx(Route,{path:\"/prevent\",exact:true,children:/*#__PURE__*/_jsx(Prevent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/help\",exact:true,children:/*#__PURE__*/_jsx(Help,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contractus\",exact:true,children:/*#__PURE__*/_jsx(Contractus,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mypost/:uid\",exact:true,children:/*#__PURE__*/_jsx(Mypost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post\",exact:true,children:/*#__PURE__*/_jsx(Post,{})})]})})});};export default App;","map":{"version":3,"sources":["D:/MonkeyFruad/frontend/src/app.js"],"names":["React","useEffect","useRef","useState","useContext","createContext","BrowserRouter","Router","Route","Switch","firestore","auth","Home","Contractus","Createpost","Login","Post","Forgetpass","Signup","Prevent","Help","Rank","Editpost","History","Mypost","Axios","usercontext","App","userRef","collection","current","user","setUser","authUnsubscribe","onAuthStateChanged","firebaseUser","doc","uid","onSnapshot","data","userData","email","firstname","surname","country","province","role","sex","console","log"],"mappings":"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","sourcesContent":["// import package and file\r\nimport React, {useEffect,useRef,useState,useContext, createContext} from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { firestore, auth} from \"./user/Frontfirebase\";\r\nimport Home from \"./user/pages/index\";\r\nimport Contractus from \"./user/pages/contractus\";\r\nimport Createpost from \"./user/pages/createpost\";\r\nimport Login from \"./user/pages/login\";\r\nimport Post from \"./user/pages/post\";\r\nimport Forgetpass from \"./user/pages/forgetpass\";\r\nimport Signup from \"./user/pages/signup\";\r\nimport Prevent from \"./user/pages/prevent\";\r\nimport Help from \"./user/pages/help\";\r\nimport Rank from \"./user/pages/ranking\";\r\nimport Editpost from \"./user/pages/editpost\";\r\nimport History from \"./user/pages/history\";\r\nimport Mypost from \"./user/pages/mypost\";\r\nimport \"./app.css\";\r\nimport Axios from \"axios\"\r\nimport usercontext from \"./user/context/usercontext\"\r\n\r\n// import Mypost from \"./user/pages/mypost\";\r\n\r\n// ที่รวม Routh ต่างๆ\r\nconst App = () => {\r\n  const userRef = useRef(firestore.collection(\"User\")).current;\r\n  const [user,setUser] = useState();\r\n\r\n  useEffect(()=>{\r\n    const authUnsubscribe = auth.onAuthStateChanged((firebaseUser)=>{\r\n      if(firebaseUser){\r\n        userRef.doc(firebaseUser.uid).onSnapshot((doc)=>{\r\n          if(doc.data()){\r\n            const userData = {\r\n              uid:doc.data().uid,\r\n              email:doc.data().email,\r\n              firstname:doc.data().firstname,\r\n              surname:doc.data().surname,\r\n              country:doc.data().country,\r\n              province:doc.data().province,\r\n              role:doc.data().role,\r\n              sex:doc.data().sex\r\n            };\r\n            setUser(userData);\r\n          }\r\n      })\r\n      }else{\r\n        setUser(null);\r\n      }\r\n     \r\n  });return () =>{\r\nauthUnsubscribe();\r\n  };\r\n  },[]);\r\nconsole.log(user)\r\nreturn (\r\n  <Router>\r\n    <usercontext.Provider value={ {user,setUser}}>\r\n    <Switch>\r\n      <Route path=\"/\" exact>\r\n        <Home />\r\n      </Route>\r\n      <Route path=\"/post/history\" exact>\r\n        <History />\r\n      </Route>\r\n      <Route path=\"/post/create\" exact>\r\n        <Createpost />\r\n      </Route>\r\n      <Route path=\"/post/edit/:uid\" exact>\r\n        <Editpost />\r\n      </Route>\r\n      <Route path=\"/post/:uid\" exact>\r\n        <Post />\r\n      </Route>\r\n      <Route path=\"/ranking\" exact>\r\n        <Rank />\r\n      </Route>\r\n      <Route path=\"/login\" exact>\r\n        <Login />\r\n      </Route>\r\n      <Route path=\"/signup\" exact>\r\n        <Signup />\r\n      </Route>\r\n      <Route path=\"/forgetpass\" exact>\r\n        <Forgetpass />\r\n      </Route>\r\n      <Route path=\"/prevent\" exact>\r\n        <Prevent />\r\n      </Route>\r\n      <Route path=\"/help\" exact>\r\n        <Help />\r\n      </Route>\r\n      <Route path=\"/contractus\" exact>\r\n        <Contractus />\r\n      </Route>\r\n      <Route path=\"/mypost/:uid\" exact>\r\n        <Mypost />\r\n      </Route>\r\n      <Route path=\"/post\" exact>\r\n        <Post />\r\n      </Route>\r\n     \r\n     \r\n    </Switch>\r\n    </usercontext.Provider>\r\n  </Router>\r\n);\r\n\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}